<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Gamyam Product Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
      :root {
        --bg: #f3f4f6;
        --sidebar-bg: #ffffff;
        --primary: #10b981;
        --primary-soft: rgba(16, 185, 129, 0.12);
        --primary-dark: #059669;
        --text-main: #111827;
        --text-muted: #6b7280;
        --border-subtle: #e5e7eb;
        --card-bg: #ffffff;
        --shadow-soft: 0 12px 30px rgba(15, 23, 42, 0.06);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: system-ui, sans-serif;
        background: var(--bg);
        display: flex;
        min-height: 100vh;
      }

      .app-shell {
        display: flex;
        width: 100%;
      }

      .sidebar {
        width: 230px;
        background: var(--sidebar-bg);
        border-right: 1px solid var(--border-subtle);
        padding: 18px 16px;
        display: flex;
        flex-direction: column;
        gap: 18px;
      }

      .main {
        flex: 1;
        padding: 14px 18px 40px;
      }

      .nav {
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .nav-item {
        padding: 8px 10px;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        border-radius: 10px;
        color: var(--text-muted);
        cursor: pointer;
        transition: 0.2s;
      }

      .nav-item:hover {
        background: #eef2ff;
        transform: translateX(2px);
      }

      .nav-item.active {
        background: var(--primary-soft);
        color: var(--primary-dark);
        font-weight: 600;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 12px;
      }

      .product-card {
        border: 1px solid #e5e7eb;
        border-radius: 14px;
        overflow: hidden;
        cursor: pointer;
        background: white;
        transition: 0.2s;
      }

      .product-card:hover {
        transform: translateY(-4px);
        border-color: var(--primary-soft);
      }

      .product-image {
        width: 100%;
        height: 115px;
        object-fit: cover;
      }

      .product-body {
        padding: 10px;
      }

      /* List */
      .list-view {
        margin-top: 10px;
      }

      .list-table {
        width: 100%;
        border-collapse: collapse;
      }

      .list-table th {
        background: #f3f4f6;
        padding: 10px;
        font-size: 12px;
        color: #6b7280;
      }

      .list-table td {
        padding: 10px;
        border-bottom: 1px solid #eee;
      }

      /* Modal */
      .detail-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.4);
        display: flex;
        justify-content: center;
        align-items: flex-end;
      }

      .detail-panel {
        background: white;
        width: 100%;
        max-width: 480px;
        padding: 20px;
        border-radius: 20px 20px 0 0;
      }

      .input-box {
        width: 100%;
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid #ddd;
        margin-top: 10px;
      }

      .page-btn {
        padding: 8px 15px;
        border: 1px solid #ccc;
        background: white;
        border-radius: 8px;
        cursor: pointer;
      }
    </style>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div style="font-size:20px;font-weight:700;color:#059669;">Gamyam</div>

        <nav class="nav">
          <div class="nav-item active">üè† Dashboard</div>
          <div class="nav-item" id="addProductBtn">‚ûï Add Product</div>
        </nav>
      </aside>

      <main class="main">
        <div id="root"></div>
      </main>
    </div>

    <script type="text/babel">

      const { useState } = React;

      /* ADD PRODUCT FORM */
      function AddProduct({ onClose, onAdd }) {
        const [name, setName] = useState("");
        const [price, setPrice] = useState("");
        const [category, setCategory] = useState("");
        const [stock, setStock] = useState("");
        const [img, setImg] = useState(""); // 13.jpg

        function save() {
          if (!name || !price || !category || !stock || !img) {
            alert("Fill all fields");
            return;
          }

          onAdd({
            id: Date.now(),
            name,
            price: Number(price),
            category,
            stock: Number(stock),
            image: "./images/" + img,
            description: "New product added",
            tags: []
          });

          onClose();
        }

        return (
          <div className="detail-backdrop" onClick={onClose}>
            <div className="detail-panel" onClick={(e)=>e.stopPropagation()}>
              <h2>Add Product</h2>

              <input className="input-box" placeholder="Name" onChange={e=>setName(e.target.value)} />
              <input className="input-box" placeholder="Price" onChange={e=>setPrice(e.target.value)} />
              <input className="input-box" placeholder="Category" onChange={e=>setCategory(e.target.value)} />
              <input className="input-box" placeholder="Stock" onChange={e=>setStock(e.target.value)} />
              <input className="input-box" placeholder="Image (ex: 13.jpg)" onChange={e=>setImg(e.target.value)} />

              <button className="page-btn" style="margin-top:15px;" onClick={save}>Add Product</button>
            </div>
          </div>
        );
      }

      /* PRODUCT GRID */
      function ProductGrid({ items, onOpenDetail }) {
        return (
          <div className="grid">
            {items.map(p => (
              <div className="product-card" key={p.id} onClick={()=>onOpenDetail(p)}>
                <img src={p.image} className="product-image"/>
                <div className="product-body">
                  <div style={{fontSize:"12px",color:"#6b7280"}}>{p.category}</div>
                  <div style={{fontWeight:"600"}}>{p.name}</div>
                  <div>‚Çπ{p.price}</div>
                </div>
              </div>
            ))}
          </div>
        );
      }

      /* LIST VIEW */
      function ListView({ items, onOpenDetail }) {
        return (
          <div className="list-view">
            <table className="list-table">
              <thead>
                <tr>
                  <th>Product</th><th>Category</th><th>Price</th><th>Stock</th><th>Tags</th>
                </tr>
              </thead>

              <tbody>
                {items.map(p => (
                  <tr key={p.id} onClick={()=>onOpenDetail(p)}>
                    <td style={{display:"flex",gap:"10px",alignItems:"center"}}>
                      <img src={p.image} style={{width:"50px",height:"50px",objectFit:"cover",borderRadius:"10px"}}/>
                      {p.name}
                    </td>
                    <td>{p.category}</td>
                    <td>‚Çπ{p.price}</td>
                    <td>{p.stock}</td>
                    <td>{p.tags?.join(", ")}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        );
      }

      /* PRODUCT DETAIL WITH PREV + NEXT */
      function ProductDetail({ product, products, onClose, onNext, onPrev }) {
        if(!product) return null;

        return (
          <div className="detail-backdrop" onClick={onClose}>
            <div className="detail-panel" onClick={(e)=>e.stopPropagation()}>
              
              <h2>{product.name}</h2>

              <img src={product.image}
                style={{width:"100%",height:"240px",objectFit:"cover",borderRadius:"12px",marginTop:"10px"}} />

              <p style={{marginTop:"10px",color:"#444"}}>
                {product.description}
              </p>

              <div style={{marginTop:"10px",fontWeight:"600"}}>
                ‚Çπ{product.price} ‚Ä¢ Stock: {product.stock}
              </div>

              <div style="display:flex;justify-content:space-between;margin-top:15px;">
                <button class="page-btn" onClick={onPrev}>‚¨Ö Prev</button>
                <button class="page-btn" onClick={onNext}>Next ‚û°</button>
              </div>

            </div>
          </div>
        );
      }

      /* MAIN APP */
      function App() {
        const defaultProducts = [
          { id: 1, name:"Wireless Mouse", price:799, category:"Electronics", stock:25, description:"Ergonomic mouse", image:"./images/1.jpg" },
          { id: 2, name:"Bluetooth Headphones", price:2499, category:"Electronics", stock:10, description:"Noise isolating", image:"./images/2.jpg" },
          { id: 3, name:"Office Chair", price:5499, category:"Furniture", stock:5, description:"Comfortable chair", image:"./images/3.jpg" },
          { id: 4, name:"Coffee Mug", price:299, category:"Kitchen", stock:40, description:"Ceramic mug", image:"./images/4.jpg" },
          { id: 5, name:"Yoga Mat", price:999, category:"Sports", stock:12, description:"Eco mat", image:"./images/5.jpg" },
          { id: 6, name:"Laptop Stand", price:1899, category:"Electronics", stock:9, description:"Adjustable stand", image:"./images/6.jpg" },
          { id: 7, name:"Water Bottle", price:499, category:"Sports", stock:35, description:"Motivational bottle", image:"./images/7.jpg" },
          { id: 8, name:"Smartwatch", price:7999, category:"Electronics", stock:6, description:"Health tracking", image:"./images/8.jpg" },
          { id: 9, name:"Gaming Keyboard", price:3999, category:"Electronics", stock:15, description:"Mechanical RGB", image:"./images/9.jpg" },
          { id: 10, name:"Desk Lamp", price:1299, category:"Furniture", stock:22, description:"LED Lamp", image:"./images/10.jpg" },
          { id: 11, name:"Running Shoes", price:2999, category:"Sports", stock:14, description:"Daily running", image:"./images/11.jpg" },
          { id: 12, name:"Smart TV", price:24999, category:"Electronics", stock:8, description:"4K Android TV", image:"./images/12.jpg" }
        ];

        const [products, setProducts] = useState(defaultProducts);
        const [view, setView] = useState("grid");
        const [detail, setDetail] = useState(null);
        const [showAdd, setShowAdd] = useState(false);

        function addProduct(p) {
          setProducts([...products, p]);
        }

        function nextProduct() {
          const index = products.findIndex(x => x.id === detail.id);
          if(index < products.length - 1) {
            setDetail(products[index+1]);
          }
        }

        function prevProduct() {
          const index = products.findIndex(x => x.id === detail.id);
          if(index > 0) {
            setDetail(products[index-1]);
          }
        }

        setTimeout(()=>{
          const btn = document.getElementById("addProductBtn");
          if(btn && !btn.onclick) btn.onclick = () => setShowAdd(true);
        },0);

        return (
          <>
            <div class="header-top" style="display:flex;justify-content:space-between;margin-bottom:10px;">
              <h2>Welcome Back, Srineth</h2>

              <div class="toggle-group">
                <button class={"toggle-btn " + (view==="grid"?"active":"")}
                  onClick={()=>setView("grid")}>Grid</button>
                <button class={"toggle-btn " + (view==="list"?"active":"")}
                  onClick={()=>setView("list")}>List</button>
              </div>
            </div>

            <div class="card">
              {view==="grid"
                ? <ProductGrid items={products} onOpenDetail={setDetail}/>
                : <ListView items={products} onOpenDetail={setDetail}/>
              }
            </div>

            {detail && (
              <ProductDetail 
                product={detail}
                products={products}
                onClose={()=>setDetail(null)}
                onNext={nextProduct}
                onPrev={prevProduct}
              />
            )}

            {showAdd && (
              <AddProduct onClose={()=>setShowAdd(false)} onAdd={addProduct}/>
            )}
          </>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>

  </body>
</html>
